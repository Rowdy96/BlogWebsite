{"version":3,"sources":["./src/app/user-panel/add-edit-post/add-edit-post.component.html","./src/app/user-panel/user-panel.component.html","./src/app/Models/PostAc.ts","./src/app/user-panel/add-edit-post/add-edit-post.component.css","./src/app/user-panel/add-edit-post/add-edit-post.component.ts","./src/app/user-panel/post.service.ts","./src/app/user-panel/user-panel-routing.module.ts","./src/app/user-panel/user-panel.component.css","./src/app/user-panel/user-panel.component.ts","./src/app/user-panel/user-panel.module.ts"],"names":[],"mappings":"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","file":"user-panel-user-panel-module.js","sourcesContent":["export default \"< <div class=\\\"center-div\\\" >\\r\\n\\r\\n    <div class=\\\"center-div\\\">\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label>Post Description:</label>\\r\\n        <textarea class=\\\"form-control\\\" rows=\\\"5\\\" name=\\\"postDescription\\\" [(ngModel)]=\\\"post.postDescription\\\"></textarea>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"center-div\\\">\\r\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"onSubmit()\\\">Save</button>\\r\\n      <button class=\\\"btn btn-primary\\\" (click)=\\\"onCancel()\\\"> Cancel</button>  \\r\\n    </div>\\r\\n\\r\\n </div>\\n\"","export default \"\\r\\n<a *ngIf=\\\"currentUser.isUserAllowedToPost\\\" class=\\\"btn btn-primary\\\" routerLink=\\\"add-post/0\\\">Add Post</a> <br />\\r\\n\\r\\n<h3 *ngIf=\\\"postList==[]\\\">There is no post..</h3>\\r\\n\\r\\n<div *ngIf=\\\"postList!=[]\\\">\\r\\n\\r\\n  <div class=\\\"center\\\" *ngFor=\\\"let post of postList\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <label>Creation Date:</label> {{post.creationDate | date : 'shortDate'}}<br />\\r\\n        <label>Post Description:</label> {{post.postDescription}}<br />\\r\\n        <p *ngIf=\\\"post.userId != currentUser.id\\\">This is posted by another user</p>\\r\\n        <p *ngIf=\\\"post.userId == currentUser.id\\\">This is posted by another  you</p>\\r\\n        <button *ngIf=\\\"post.userId == currentUser.id && currentUser.isUserAllowedToEdit\\\" class=\\\"btn btn-primary\\\" routerLink=\\\"add-post/{{post.id}}\\\">Edit</button>\\r\\n        <button *ngIf=\\\"post.userId == currentUser.id && currentUser.isUserAllowedToDelete\\\" (click)=\\\"onDelete(post.id)\\\" class=\\\"btn btn-primary\\\">Delete</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { UserAC } from './userAC';\r\n\r\nexport class PostAC {\r\n  public id: number\r\n  public postDescription: string;\r\n  public creationDate: Date;\r\n  public userId: string;\r\n  public user: UserAC;\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXItcGFuZWwvYWRkLWVkaXQtcG9zdC9hZGQtZWRpdC1wb3N0LmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { PostAC } from '../../Models/PostAc';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PostService } from '../post.service';\r\nimport { UserService } from '../../user.service';\r\n\n@Component({\n  selector: 'app-add-edit-post',\n  templateUrl: './add-edit-post.component.html',\n  styleUrls: ['./add-edit-post.component.css']\n})\nexport class AddEditPostComponent implements OnInit {\n\n  id: number;\n  post: PostAC;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private postService: PostService,\n    private userService: UserService\n  ) {\n    this.post = new PostAC();\n  }\n\n  ngOnInit() {\n    this.id = this.route.snapshot.params.id;\n\n    if (this.id != 0) {\n      this.postService.GetPost(this.id).subscribe(res => {\n        this.post = res;\r\n      });\n    }\n\n  }\n\n  onSubmit() {\n\n    if (this.id == 0) {\n\n      this.post.userId = this.userService.currentUser.id\n\n      this.postService.CreatePost(this.post).subscribe(res => {\n        this.router.navigateByUrl('/UserPanel');\n      });\n      \n    }\n    else {\n      this.postService.EditPost(this.post).subscribe(res => {\n        this.router.navigateByUrl('/UserPanel');\n      });\n    }\n\n  }\n\n  onCancel() {\n    this.router.navigateByUrl('/UserPanel');\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { PostAC } from '../Models/PostAc';\r\nimport { UserService } from '../user.service';\r\nimport { UsersAC } from '../Models/UsersAc';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class PostService {\r\n\r\n  rootUrl = \"https://localhost:44372/\";\r\n  currentUser: UsersAC\r\n  constructor(private userService: UserService, private http: HttpClient, private router: Router) {\r\n   \r\n  }\r\n\r\n  CreatePost(post: PostAC): Observable<PostAC>{\r\n    let url = this.rootUrl + \"Posts/CreatePost\";\r\n    return this.http.post<PostAC>(url, post);\r\n  }\r\n\r\n  GetAllPosts(): Observable<Array<PostAC>> {\r\n    let url = this.rootUrl + \"Posts/GetAllPosts\";\r\n    return this.http.get<Array<PostAC>>(url);\r\n  }\r\n\r\n  GetPost(id: number): Observable<PostAC> {\r\n    let url = this.rootUrl + \"Posts/GetPost/\" + id;\r\n    return this.http.get<PostAC>(url);\r\n  }\r\n\r\n  EditPost(post: PostAC): Observable<PostAC> {\r\n    let url = this.rootUrl + \"Posts/EditPost\";\r\n    return this.http.put<PostAC>(url, post);\r\n\r\n  }\r\n\r\n  DeletePost(id: number): Observable<{}> {\r\n    let url = this.rootUrl + \"Posts/DeletePost/\" + id;\r\n    return this.http.delete(url);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserPanelComponent } from './user-panel.component';\nimport { AddEditPostComponent } from './add-edit-post/add-edit-post.component';\r\n\nconst routes: Routes = [\n  {\n  path: '', component: UserPanelComponent\r\n  },\n  {\n    path: 'add-post/:id', component: AddEditPostComponent\r\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserPanelRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXItcGFuZWwvdXNlci1wYW5lbC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { PostService } from './post.service';\r\nimport { PostAC } from '../Models/PostAc';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '../user.service';\r\nimport { UserPanelModule } from './user-panel.module';\r\nimport { UserAC } from '../Models/userAC';\r\n\n@Component({\n  selector: 'app-user-panel',\n  templateUrl: './user-panel.component.html',\n  styleUrls: ['./user-panel.component.css']\n})\nexport class UserPanelComponent implements OnInit {\n\n  postList: Array<PostAC>;\n  currentUser: UserAC;\n \n  constructor(private postService: PostService, private userService: UserService) {\n    this.postList = [];\n  }\n\n  ngOnInit() {\n    this.GetAllPosts();\n    this.currentUser = this.userService.currentUser;\n  }\n\n  GetAllPosts(): void {\n    this.postService.GetAllPosts().subscribe(\r\n      res => {\r\n        this.postList = res;\r\n      }\r\n    );\r\n  }\n\n  onDelete(id: number): void {\n    this.postService.DeletePost(id).subscribe(res => {\r\n      this.ngOnInit();\r\n    });\r\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { UserPanelRoutingModule } from './user-panel-routing.module';\nimport { UserPanelComponent } from './user-panel.component';\nimport { AddEditPostComponent } from './add-edit-post/add-edit-post.component';\n\n\n@NgModule({\n  declarations: [UserPanelComponent, AddEditPostComponent],\n  imports: [\n    CommonModule,\n    UserPanelRoutingModule,\n    FormsModule\n  ]\n})\nexport class UserPanelModule { }\n"],"sourceRoot":"webpack:///"}